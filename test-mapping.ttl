@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix geo2: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix oxly: <http://www.example.org/ont#> .

<#Continent>
        a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "COUNTRIESCONTINENT" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{CONTINENT}" ;
		rr:class oxly:Continent;
	] ;


	rr:predicateObjectMap [
		  rr:predicate oxly:continentName;
		  rr:objectMap [
		  	 rr:column "CONTINENT" ;
		     rr:datatype xsd:string ;
		  ] ;
	] ;

     rr:predicateObjectMap [
		rr:predicate oxly:consitsOf ;
		rr:objectMap [ 
			rr:parentTriplesMap <#Countries>;
            rr:joinCondition [
                rr:child "COUNTRY";
                rr:parent "COUNTRY";
            ]
		] ; 
	] ;

	.

<#Countries>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "COUNTRIES" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{COUNTRY}" ;
		rr:class oxly:Country;
	] ;


	rr:predicateObjectMap [
		  rr:predicate oxly:countryName;
		  rr:objectMap [
		  	 rr:column "COUNTRY" ;
		     rr:datatype xsd:string ;
		  ] ;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:hasEconomy ;
		rr:objectMap [ 
			rr:parentTriplesMap <#Economy>;
            rr:joinCondition [
                rr:child "COUNTRYYEAR";
                rr:parent "ID";
            ]
		] ; 
  ] ;

    rr:predicateObjectMap [
		rr:predicate oxly:hasSustainability;
		rr:objectMap [ 
			rr:parentTriplesMap <#Sustainability>;
            rr:joinCondition [
                rr:child "COUNTRYYEAR";
                rr:parent "ID";
            ]
		] ; 
  	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:isPartOf ;
		rr:objectMap [ 
			rr:parentTriplesMap <#Continent>;
			rr:joinCondition [
				rr:child "COUNTRY";
				rr:parent "COUNTRY";
			]
		] ; 
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:hasGeography ;
		rr:objectMap [ 
			rr:parentTriplesMap <#Geography>;
            rr:joinCondition [
                rr:child "COUNTRYYEAR";
                rr:parent "ENTITY";
            ]
		] ; 
	] ;


.

<#Geography>
        a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "POPULATION" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{ENTITY}" ;
		rr:class oxly:Geography;
	] ;

	rr:predicateObjectMap [
		  rr:predicate oxly:year;
		  rr:objectMap [
		  	 rr:column "YEAR" ;
		     rr:datatype xsd:string ;
		  ] ;
	] ;

    rr:predicateObjectMap [
		  rr:predicate oxly:population;
		  rr:objectMap [
		  	 rr:column "POPULATION" ;
		     rr:datatype xsd:string ;
		  ] ;
	] ;

.

<#Economy>
	a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GDP" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/economy/{ID}" ;
		rr:class oxly:Economy;
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "COUNTRY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:countryGDP ;
		rr:objectMap [ 
			rr:parentTriplesMap <#GDP>;
            rr:joinCondition [
                rr:child "ID";
                rr:parent "ID";
            ]
		] ; 
  	] ;

	.

<#Sustainability>
	a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GDP" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/sustainability/{ID}" ;
		rr:class oxly:Sustainability;
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "COUNTRY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:countryHDI;
		rr:objectMap [ 
			rr:parentTriplesMap <#HumanDevelopmentIndex>;
            rr:joinCondition [
                rr:child "ID";
                rr:parent "ID";
            ]
		] ; 
  	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:countryWBI;
		rr:objectMap [ 
			rr:parentTriplesMap <#WellbeingIndex>;
            rr:joinCondition [
                rr:child "ID";
                rr:parent "ENTITY";
            ]
		] ; 
  	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:countryPollution;
		rr:objectMap [ 
			rr:parentTriplesMap <#Pollution>;
            rr:joinCondition [
                rr:child "ID";
                rr:parent "ENTITY";
            ]
		] ; 
  	] ;
	
	.

<#GDP>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GDP" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/economy/{ID}" ;
		rr:class oxly:GDP;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "COUNTRY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:year ;
		rr:objectMap [ 
			rr:column "YEAR" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:gdpValue ;
		rr:objectMap [ 
			rr:column "GDP" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:gdpGrowth ;
		rr:objectMap [ 
			rr:column "GDPGROWTH" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:militaryExpenditurePerGdp ;
		rr:objectMap [ 
			rr:column "MILITARYEXPENDITURE" ;
			rr:datatype xsd:double ; 
		] ; 
	] ;

    .

<#HumanDevelopmentIndex>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "HUMANDEVELOPMENTINDEX" ] ;

    rr:subjectMap [
      rr:template "http://data.example.org/Sustainability/{ID}" ;
      rr:class oxly:HumanDevelopmentIndex;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "ENTITY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:year;
		rr:objectMap [ 
			rr:column "YEAR" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:hdiScore;
		rr:objectMap [ 
			rr:column "HDI_SCORE" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

.

<#WellbeingIndex>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "WELLBEINGINDEX" ] ;

    rr:subjectMap [
      rr:template "http://data.example.org/Sustainability/{ENTITY}" ;
      rr:class oxly:WellbeingIndex;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "ENTITY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:happinessScore;
		rr:objectMap [ 
			rr:column "HAPPINESSSCORE" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;


    rr:predicateObjectMap [
		rr:predicate oxly:corruptionScore;
		rr:objectMap [ 
			rr:column "CORRUPTIONINDEX" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

	.

<#Pollution>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GHGEMISSIONS" ] ;

    rr:subjectMap [
      rr:template "http://data.example.org/Sustainability/{ENTITY}" ;
      rr:class oxly:Pollution;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "ENTITY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:ghgEmission;
		rr:objectMap [ 
			rr:column "GHGEMISSION" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

	.

<#AIRPollutionDeaths>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "AIRPOLLUTIONDEATHS" ] ;

    rr:subjectMap [
      rr:template "http://data.example.org/Sustainability/{ID}" ;
      rr:class oxly:AirPollutionIndex;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "ENTITY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:year;
		rr:objectMap [ 
			rr:column "YEAR" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;


    rr:predicateObjectMap [
		rr:predicate oxly:deathCount;
		rr:objectMap [ 
			rr:column "AIRPOLLUTIONDEATH" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

	rr:predicateObjectMap [
		rr:predicate oxly:contributesTO;
		rr:objectMap [ 
			rr:parentTriplesMap <#Pollution>;
            rr:joinCondition [
                rr:child "ID";
                rr:parent "ENTITY";
            ]
		] ; 
  	] ;

	.




