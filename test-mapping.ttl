@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix geo2: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix oxly: <http://www.example.org/ont#> .

<#Countries>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "COUNTRIES" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{COUNTRY}" ;
		rr:class oxly:Country;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:hasEconomy ;
		rr:objectMap [ 
			rr:parentTriplesMap <#GDP>;
            rr:joinCondition [
                rr:child "COUNTRYYEAR";
                rr:parent "ID";
            ]
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:hasSustainability ;
		rr:objectMap [ 
			rr:parentTriplesMap <#GDPGROWTH>;
            rr:joinCondition [
                rr:child "COUNTRYYEAR";
                rr:parent "ID";
            ]
		] ;  
	] ;

    .

<#GDP>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GDP" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{ID}" ;
		rr:class oxly:Entity;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "ENTITY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:year ;
		rr:objectMap [ 
			rr:column "YEAR" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:gdpValue ;
		rr:objectMap [ 
			rr:column "GDP" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    .

<#GDPGROWTH>
    a rr:TriplesMap ;

    rr:logicalTable [ rr:tableName "GDPGROWTH" ] ;

    rr:subjectMap [
		rr:template "http://data.example.org/{ID}" ;
		rr:class oxly:Entity;
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:Country;
		rr:objectMap [ 
			rr:column "COUNTRY" ; 
			rr:datatype xsd:string ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:year ;
		rr:objectMap [ 
			rr:column "YEAR" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    rr:predicateObjectMap [
		rr:predicate oxly:gdpGrowthValue ;
		rr:objectMap [ 
			rr:column "GDPGROWTH" ; 
			rr:datatype xsd:double ; 
		] ; 
	] ;

    .
